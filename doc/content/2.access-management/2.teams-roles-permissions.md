---
title: Teams, Roles & Permissions
description: How team management, roles, and permissions are structured.
navigation:
    icon: i-lucide-users
---

### Roles & Permissions

Roles and their associated permissions are defined as enums for type-safety and clarity.

- **Roles:** `App\Enums\Teams\RoleEnum` (e.g., `ADMIN`, `EDITOR`).
- **Permissions:** `App\Enums\Teams\TeamMemberPermissionEnum` (e.g., `team.member.invite`).

The permissions for each role are defined within the `RoleEnum` file. You can add new roles or modify permissions there. You can also add your own application-specific permissions (e.g., `create-project`, `delete-project`) to `TeamMemberPermissionEnum` and assign them to roles.

```php [app/Enums/Teams/RoleEnum.php]
public function permissions(): array
{
    return match ($this) {
        self::ADMIN => [
            TeamMemberPermissionEnum::TEAM_VIEW,
            TeamMemberPermissionEnum::TEAM_UPDATE,
            // ...
        ],
        self::EDITOR => [
            TeamMemberPermissionEnum::TEAM_VIEW,
        ],
    };
}
```

### Team Owner Permissions

The team owner bypasses all role-based permission checks for their team. Any permission defined in `TeamMemberPermissionEnum` that is **not** assigned to a role in `RoleEnum` is implicitly an owner-only permission. This is handled by the `hasTeamPermission` method in the `HasTeams` trait.

```php [app/Models/Concerns/HasTeams.php]
public function hasTeamPermission(Team $team, TeamMemberPermissionEnum $permission): bool
{
    if ($this->ownsTeam($team)) {
        return true;
    }

    $role = $this->teamRole($team);

    if (! $role) {
        return false;
    }

    return in_array($permission, $role->permissions(), true);
}
```

### Frontend composable

This starter kit provides a conveignent composable to check the current team permissions of the user on the frontend.

```vue
<script setup lang="ts">
const { hasTeamPermission } = useTeamPermissions();
</script>
<template>
    <RemoveTeamMemberModal
        v-if="hasTeamPermission('team.member.remove')"
        :team="team"
        :member="member"
    />
</template>
```

### Deleting a team

A team can't be deleted if it has a subscription

### Deleting a user

A user can't be deleted if he owns teams
