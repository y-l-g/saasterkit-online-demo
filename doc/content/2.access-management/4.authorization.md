---
title: Authorization
description: How to authorize actions using Gates and Form Requests.
navigation:
    icon: i-lucide-shield-check
---

### Super Admin

A user with the `is_admin` flag set to `true` bypasses all permission checks across the entire application via a `Gate::before` callback in `AuthServiceProvider`.

### Authorization based on feature or team permissions

Gates are automatically registered for features and team permissions

```php [app/Providers/AuthServiceProvider.php]
    private function registerTeamPermissionGates(): void
    {
        foreach (TeamMemberPermissionEnum::cases() as $permission) {
            Gate::define($permission->value, function (User $user, Team $team) use ($permission) {
                return $user->hasTeamPermission($team, $permission);
            });
        }
    }
    private function registerFeatureGates(): void
    {
        foreach (FeatureEnum::cases() as $feature) {
            Gate::define($feature->value, function (User $user, Team $team) use ($feature) {
                return $user->belongsToTeam($team) && $team->hasFeature($feature);
            });
        }
    }
```

### Usage in Controllers

In controllers, authorization is best handled via Form Requests.

```php [app/Http/Requests/Teams/TeamUpdateRequest.php]
public function authorize(): bool
{
    /** @var Team $team */
    $team = $this->route('team');

    return Gate::allows(TeamMemberPermissionEnum::TEAM_UPDATE, $team);
}
```
