---
title: Authentication
description: An overview of the authentication system, social logins, and custom middleware.
navigation:
  icon: i-lucide-key-round
---

Authentication is handled by Laravel Fortify (backend logic) and Laravel Socialite (OAuth).

### Socialite Email Conflicts

If a user signs in via a social provider with an email that already exists for a local account, the accounts are not linked automatically. Instead, a "magic login" link is sent to the email address to verify ownership before linking the social account. This logic is in `App\Http-Controllers\Auth\Socialite\HandleProviderCallbackController`.

### Custom Middleware

- **`EnsureUserHasPassword`**: Users registered via social providers do not have a password. This middleware protects routes that require password confirmation (like enabling 2FA) by redirecting the user to a password creation form.
- **`RedirectIfNoTeam`**: After registration, users are redirected to an onboarding page to create or join a team before they can access the main dashboard.
